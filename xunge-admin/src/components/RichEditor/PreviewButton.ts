import type { IButtonMenu, IDomEditor } from '@wangeditor/editor'

class MyButtonMenu implements IButtonMenu {
  title: string
  tag: string
  iconSvg: string
  alwaysEnable: boolean = true

  constructor() {
    this.title = '预览' // 自定义菜单标题
    this.iconSvg = '<svg t="1749104880601" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1672" width="200" height="200"><path d="M145.06666667 34.13333333c39.9648-4.48746667 83.84533333 20.7168 113.06666666 38.4 93.60853333 56.6464 194.16213333 114.224 285.86666667 166.4 95.44533333 54.304 193.9648 109.8304 288 164.26666667 36.58346667 21.1776 68.24 34.73706667 90.66666667 59.73333333 17.75466667 19.78666667 30.512 51.60213333 16 82.13333334-15.16373333 31.89973333-50.60586667 53.056-84.26666667 73.6-194.71253333 118.83946667-396.84373333 228.5312-599.46666667 341.33333333-47.59253333 26.49493333-138.3712 55.85813333-166.4-7.46666667-10.21546667-23.07946667-9.6-59.7344-9.6-98.13333333V213.33333333c0-35.1456-2.93866667-72.31786667 2.13333334-104.53333333 6.92053333-43.95306667 28.19626667-70.6464 64-74.66666667z m203.73333333 418.13333334v119.46666666c0 22.28693333-1.6352 45.4432 9.6 50.13333334 18.07253333 7.5456 41.77066667-12.70613333 53.33333333-19.2 33.22666667-18.6592 62.2528-34.66666667 96-54.4 13.14986667-7.6896 40.784-17.60426667 40.53333334-35.2-0.20693333-14.53973333-27.56053333-27.4464-39.46666667-34.13333334-38.09813333-21.3952-59.04213333-33.17333333-93.86666667-53.33333333-12.7072-7.35573333-36.528-26.89066667-53.33333333-22.4-16.44053333 4.3936-12.8 28.20693333-12.8 49.06666667z" p-id="1673"></path></svg>'
    this.tag = 'button'
  }

  // 获取菜单执行时的 value ，用不到则返回空 字符串或 false
  getValue(): string | boolean {
    return ''
  }

  // 菜单是否需要激活（如选中加粗文本，“加粗”菜单会激活），用不到则返回 false
  isActive(): boolean {
    return false
  }

  // 菜单是否需要禁用（如选中 H1 ，“引用”菜单被禁用），用不到则返回 false
  isDisabled(): boolean {
    return false
  }

  // 点击菜单时触发的函数
  exec(editor: IDomEditor) {
    // this.onClick?.('preview', editor)
    editor.emit('preview', editor)
  }
}
export default MyButtonMenu